"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[252],{5252:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(67294),r=a(73727),l=a(40077),s=a(94184),c=a.n(s);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var m=function(e,t,a,n){return _.map(a,(function(a){return{key:"std-"+a.standard_id,label:e?a.standard.expand_name:a.standard.collapse_name,url:"/".concat(t.company.slug,"/compliance/").concat(a.standard.slug),parentKey:"apps-standards",standard_id:a.standard_id,std:a}}))},u=function(e,t,a){return[{key:"app-dashboard",label:"Dashboard",isTitle:!1,icon:"uil-home-alt",url:"/dashboard"},{key:"apps-workbench",label:"WorkBench",isTitle:!1,icon:"uil-comments-alt",url:"/".concat(e.company.slug,"/workbench/list")},{key:"apps-standards",label:"Standards",isTitle:!1,icon:"uil-layer-group",children:m(!0,e,t)},{key:"apps-projects",label:"Projects",isTitle:!1,icon:"uil-briefcase",children:[{key:"project-list",label:"List",url:"/".concat(e.company.slug,"/workbench/projects/list"),parentKey:"apps-projects"},{key:"project-gantt",label:"Gantt",url:"/".concat(e.company.slug,"/workbench/projects/gantt"),parentKey:"apps-projects"},{key:"project-create-project",label:"Create Project",url:"/".concat(e.company.slug,"/workbench/projects/create"),parentKey:"apps-projects"}]},{key:"apps-tasks",label:"Tasks",isTitle:!1,icon:"uil-clipboard-alt",children:[{key:"task-list",label:"List",url:"/".concat(e.company.slug,"/workbench/list"),parentKey:"apps-tasks"},{key:"task-kanban",label:"Kanban Board",url:"/".concat(e.company.slug,"/workbench/tasks/kanban/all"),parentKey:"apps-tasks"}]},{key:"apps-file-manager",label:"File Manager",isTitle:!1,icon:"uil-folder-plus",url:"/".concat(e.company.slug,"/filemanager/home")},{key:"apps-file-assets",label:"Assets",isTitle:!1,icon:"uil-box",url:"/".concat(e.company.slug,"/assets")},{key:"apps-reports",label:"Reports",isTitle:!1,icon:"uil-chart",url:"/".concat(e.company.slug,"/reports")}]},d=function e(t,a){var n=[],r=p(t,a.parentKey);return r&&(n.push(r.key),r.parentKey&&(n=[].concat(o(n),o(e(t,r))))),n},p=function e(t,a){if(t&&a)for(var n=0;n<t.length;n++){if(t[n].key===a)return t[n];var r=e(t[n].children,a);if(r)return r}return null},f=a(76775),g=a(16518),y=a(48408),b=a(9669),k=a.n(b),v=(a(96486),a(94379)),h=a(14416);function E(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],s=!0,c=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(c)throw r}}return l}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var j=function e(t){var a=t.item,l=t.linkClassName,s=t.subMenuClassNames,o=t.activeMenuItems,i=t.toggleMenu,m=t.company,u=t.token,d=t.navigate,p=N((0,n.useState)(o.includes(a.key)),2),f=p[0],y=p[1];(0,n.useEffect)((function(){y(o.includes(a.key))}),[o,a]);return n.createElement("li",{className:c()("side-nav-item",{"menuitem-active":f})},n.createElement(r.rU,{to:"/#",onClick:function(e){e.preventDefault();var t=!f;return y(t),i&&i(a,t),!1},"data-menu-key":a.key,"aria-expanded":f,className:c()("has-arrow","side-sub-nav-link",l,{"menuitem-active":o.includes(a.key)?"active":""})},a.icon&&n.createElement("i",{className:a.icon}),a.badge?n.createElement("span",{className:c()("badge","bg-"+a.badge.variant,"float-end",{"text-dark":"light"===a.badge.variant})},a.badge.text):n.createElement("span",{className:"menu-arrow"}),n.createElement("span",null," ",a.label," ")),n.createElement(g.Z,{in:f},n.createElement("ul",{className:c()(s)},a.children.map((function(t,a){return n.createElement(n.Fragment,{key:a},t.children?n.createElement(n.Fragment,null,n.createElement(e,{item:t,linkClassName:o.includes(t.key)?"active":"",activeMenuItems:o,subMenuClassNames:"side-nav-third-level",toggleMenu:i,company:m,token:u,navigate:d})):n.createElement(n.Fragment,null,n.createElement(S,{item:t,className:o.includes(t.key)?"menuitem-active":"",linkClassName:o.includes(t.key)?"active":"",company:m,token:u,navigate:d})))})))))},S=function(e){var t=e.item,a=e.className,r=e.linkClassName,l=e.company,s=e.token,o=e.navigate;return n.createElement("li",{className:c()("side-nav-item",a)},n.createElement(A,{item:t,className:r,company:l,token:s,navigate:o}))},A=function(e){var t=e.item,a=e.className,l=e.company,s=e.token,o=e.navigate;return t.parentKey&&"apps-standards"===t.parentKey?n.createElement("a",{onClick:function(){k().post("/api/user/compliance/parent-sections",{comp_id:l.comp_id,standards:[t.std.standard_id]},{headers:{Authorization:"".concat(s.token_type," ").concat(s.access_token)}}).then((function(e){o(t.url,t.std,e.data.parent_sections,e.data.users)})).catch((function(e){500===e.response.status&&v.fn.error("Server Error, Please contact customer support.","Error")}))},target:t.target,className:c()("side-nav-link-ref","side-sub-nav-link",a,"chand"),"data-menu-key":t.key},t.icon&&n.createElement("i",{className:t.icon}),t.badge&&n.createElement("span",{className:c()("badge","bg-"+t.badge.variant,"rounded-pill","font-10","float-end",{"text-dark":"light"===t.badge.variant})},t.badge.text),n.createElement("span",null," ",t.label," ")):n.createElement(r.rU,{to:{pathname:t.url},target:t.target,className:c()("side-nav-link-ref","side-sub-nav-link",a),"data-menu-key":t.key},t.icon&&n.createElement("i",{className:t.icon}),t.badge&&n.createElement("span",{className:c()("badge","bg-"+t.badge.variant,"rounded-pill","font-10","float-end",{"text-dark":"light"===t.badge.variant})},t.badge.text),n.createElement("span",null," ",t.label," "))};const x=(0,f.EN)((0,h.$j)(null,{selectStandard:y.yk,setParentSections:y.x,setCompanyUsers:y.uG})((function(e){var t=e.menuItems,a=e.company,r=e.token,l=e.history,s=e.selectStandard,c=e.setParentSections,o=e.setCompanyUsers,i=(0,f.TH)(),m=(0,n.useRef)(null),u=N((0,n.useState)([]),2),g=u[0],y=u[1],b=function(e,a){a&&y([e.key].concat(E(d(t,e))))},k=(0,n.useCallback)((function(){var e=document.getElementById("main-side-menu"),a=null;if(e){for(var n=e.getElementsByClassName("side-nav-link-ref"),r=0;r<n.length;++r)if(i.pathname===n[r].pathname){a=n[r];break}if(a){var l=a.getAttribute("data-menu-key"),s=p(t,l);s&&y([s.key].concat(E(d(t,s))))}}}),[i.pathname,t]),v=function(e,t,a,n){s(t),c(a),o(n),l.push(e)};return(0,n.useEffect)((function(){k()}),[k]),n.createElement(n.Fragment,null,n.createElement("ul",{className:"side-nav",ref:m,id:"main-side-menu"},(t||[]).map((function(e,t){return n.createElement(n.Fragment,{key:t},e.isTitle?n.createElement("li",{className:"side-nav-title side-nav-item"},e.label):n.createElement(n.Fragment,null,e.children?n.createElement(j,{item:e,toggleMenu:b,subMenuClassNames:"side-nav-second-level",activeMenuItems:g,linkClassName:"side-nav-link",company:a,token:r,navigate:v}):n.createElement(S,{item:e,linkClassName:"side-nav-link",className:g.includes(e.key)?"menuitem-active":"",company:a,token:r,navigate:v})))}))))})));var I=a(19297),T=a(31040),U=a(14666),M=a(54713),K=function(e){var t=e.hideUserProfile,a=e.user,l=e.company,s=e.standards,c=(e.leftnav,e.token);return n.createElement(n.Fragment,null,!t&&n.createElement("div",{className:"leftbar-user"},n.createElement(r.rU,{to:"/"},n.createElement("img",{src:M.Z,alt:"",height:"42",className:"rounded-circle shadow-sm"}),n.createElement("span",{className:"leftbar-user-name"},"".concat(a.first_name," ").concat(a.last_name)))),n.createElement(x,{menuItems:u(l,s),company:l,token:c}),n.createElement("div",{className:"clearfix"}))},L=function(e){var t=e.isCondensed,a=e.isLight,s=e.hideLogo,c=e.hideUserProfile,o=e.user,i=e.token,m=e.company,u=e.standards,d=e.leftnav,p=(0,n.useRef)(null),f=function(e){p&&p.current&&p.current.contains(e.target)||document.body&&document.body.classList.remove("sidebar-enable")};return(0,n.useEffect)((function(){return document.addEventListener("mousedown",f,!1),function(){document.removeEventListener("mousedown",f,!1)}}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:"leftside-menu",ref:p},!s&&n.createElement(n.Fragment,null,n.createElement(r.rU,{to:"/",className:"logo text-center logo-light"},n.createElement("span",{className:"logo-lg"},n.createElement("img",{src:I.Z,alt:"logo",height:"16"})),n.createElement("span",{className:"logo-sm"},n.createElement("img",{src:a?T.Z:U.Z,alt:"logo",height:"16"}))),n.createElement(r.rU,{to:"/",className:"logo text-center logo-dark"},n.createElement("span",{className:"logo-lg"},n.createElement("img",{src:I.Z,alt:"logo",height:"16"})),n.createElement("span",{className:"logo-sm"},n.createElement("img",{src:a?T.Z:U.Z,alt:"logo",height:"16"})))),!t&&n.createElement(l.Z,{style:{maxHeight:"100%"},timeout:500,scrollbarMaxSize:320},n.createElement(K,{menuClickHandler:function(){},isLight:a,hideUserProfile:c,user:o,company:m,standards:u,leftnav:d,token:i})),t&&n.createElement(K,{isLight:a,user:o,company:m,standards:u,leftnav:d,token:i,hideUserProfile:c})))};L.defaultProps={hideLogo:!1,hideUserProfile:!1,isLight:!1,isCondensed:!1};const P=(0,h.$j)((function(e){return{standards:e.compliance.standards}}))(L)},31040:(e,t,a)=>{a.d(t,{Z:()=>n});const n="/images/logo_sm.png?e4ac7f99565bca506f3e86364f5ef2b1"},14666:(e,t,a)=>{a.d(t,{Z:()=>n});const n="/images/logo_sm_dark.png?3e50617ba85fb82dd3d43ba581919bcc"}}]);