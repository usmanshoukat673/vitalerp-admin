"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8738],{28738:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var n=r(96540),o=r(8321),a=(r(2543),r(75659)),s=r(86177),i=r(84719),u=r(33551),c=r(1043),p=r(46942),l=r.n(p),f=r(67438),d=r(11512),m=r(22492);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function g(e,t,r){return t=w(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function E(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var O=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return E(e=g(this,t,[].concat(o)),"state",{password:"",password_confirmation:"",errors:[],loading:!1}),E(e,"handleChange",(function(t){e.setState(E({},t.target.name,t.target.value));var r=e.state.errors;r.length>0&&r[0].hasOwnProperty(t.target.name)&&(delete r[0][t.target.name],e.setState({errors:r}))})),E(e,"handlerInputError",(function(e,t){return e.some((function(e){return e.hasOwnProperty(t)}))?"error":""})),E(e,"displayInputError",(function(e,t){return e.some((function(e){return e.hasOwnProperty(t)}))?n.createElement("p",{className:"form-error-messsage"},e[0][t]):""})),E(e,"handleSubmit",(function(t){t.preventDefault(),e.setState({errors:[],loading:!0}),d.A.post("/api/user/change-current-password",e.state).then((function(t){e.setState({password:"",password_confirmation:"",errors:[],loading:!1}),e.props.setUser(t.data.user),e.props.setPWDRotation(t.data.pwd_rotaion),e.props.history.push(t.data.redirect)})).catch((function(t){500===t.response.status&&e.setState({errors:[],loading:!1}),422===t.response.status&&e.setState({errors:e.state.errors.concat(t.response.data.errors),loading:!1})}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){1===this.props.user.changed_password&&this.props.history.push("/select-organization"),this.props.setCreateNewOrg({open:!1,in_org:!1})}},{key:"render",value:function(){var e=this.state,t=e.errors,r=e.loading,o=e.password,a=e.password_confirmation;return n.createElement(n.Fragment,null,n.createElement(m.A,{signup:!1}),n.createElement(i.A,{sx:{display:"flex",marginTop:"30px",justifyContent:"center"}},n.createElement(i.A,{sx:{padding:"20px",borderRadius:"6px",mt:"50px",background:"#0000008c",width:"35%"},className:"_auth__right"},n.createElement(u.A,{variant:"h4",sx:{color:"#fff"}},"Change Password"),n.createElement(u.A,{sx:{marginBottom:"50px",color:"#fff"}},"For security reason it is import to change your password"),n.createElement("form",{className:"",onSubmit:this.handleSubmit},n.createElement(i.A,{sx:{marginBottom:"15px"}},n.createElement(c.A,{type:"password",fullWidth:!0,label:"New Password",variant:"outlined",onChange:this.handleChange,name:"password",value:o,className:l()(this.handlerInputError(t,"password"),"build__input")}),this.displayInputError(t,"password")),n.createElement(i.A,{sx:{marginBottom:"15px"}},n.createElement(c.A,{type:"password",fullWidth:!0,label:"Confirm Password",variant:"outlined",onChange:this.handleChange,name:"password_confirmation",value:a,className:l()(this.handlerInputError(t,"password_confirmation"),"build__input")}),this.displayInputError(t,"password_confirmation")),""!=o?n.createElement(s.A,{password:o}):"",n.createElement(f.A,{type:"submit",size:"large",sx:{paddingRight:"40px",paddingLeft:"40px"},loading:r,loadingIndicator:"Changing...",variant:"contained"},"Change Password")))))}}])&&y(r.prototype,o),a&&y(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(n.Component);const P=(0,o.Ng)(null,{setUser:a.gV,setPWDRotation:a.sr,setCreateNewOrg:a.vm})(O)}}]);