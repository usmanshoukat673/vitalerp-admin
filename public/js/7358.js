"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7358],{47358:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(96540),a=r(85072),o=r.n(a),s=r(9064),i={insert:"head",singleton:!1};o()(s.A,i);s.A.locals;var l=r(21217),u=r(8321),c=r(94335),p=r(75659),m=r(81429),f=r(86177),d=(r(96958),r(22492)),h=r(84719),y=r(33551),g=r(1043),b=r(67438),v=r(46942),w=r.n(v);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function x(e,t,r){return t=A(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var j=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return O(e=x(this,t,[].concat(a)),"state",{first_name:"",last_name:"",email:"",password:"",_token:"",password_confirmation:"",errors:[],loading:!1}),O(e,"handleChange",(function(t){e.setState(O({},t.target.name,t.target.value));var r=e.state.errors;r.length>0&&r[0].hasOwnProperty(t.target.name)&&(delete r[0][t.target.name],e.setState({errors:r}))})),O(e,"handlerInputError",(function(e,t){return e.some((function(e){return e.hasOwnProperty(t)}))?"error":""})),O(e,"displayInputError",(function(e,t){return e.some((function(e){return e.hasOwnProperty(t)}))?n.createElement("p",{className:"form-error-messsage"},e[0][t]):""})),O(e,"handleSubmit",(function(t){t.preventDefault(),e.setState({errors:[],loading:!0}),c.A.post("/api/auth/join",e.state).then((function(t){e.setState({loading:!1,first_name:"",last_name:"",password:"",password_confirmation:""}),e.props.setToken(t.data.token),e.props.setUser(t.data.user),e.props.setPWDRotation(t.data.pwd_rotaion),e.props.setCompanies(t.data.companies),e.props.setMaturityLevels(t.data.maturity_levels),e.props.unsetSearchQuery(),e.props.unsetSearchResults(),e.props.history.push("/select-organization")})).catch((function(t){500===t.response.status&&(e.setState({errors:[],loading:!1}),m.hm.error("Server Error, Please contact customer support.","Error")),422===t.response.status&&e.setState({errors:e.state.errors.concat(t.response.data.errors),loading:!1})}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){(0,l.Rr)(),this.props.clearUser(),this.props.clearPWDRotation(),this.props.clearToken();var e=this.props.match.params,t=e._token,r=e.email;this.setState({_token:t,email:r})}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.state,t=e.errors,r=e.loading,a=e.password,o=e.password_confirmation,s=e.first_name,i=e.last_name;return n.createElement(n.Fragment,null,n.createElement(d.A,{signup:!1}),n.createElement(h.A,{sx:{display:"flex",marginTop:"30px"}},n.createElement(h.A,{sx:{flex:"0.5",marginRight:"50px",marginTop:"50px",fontSize:"19px"}}),n.createElement(h.A,{sx:{flex:"0.5",padding:"20px",borderRadius:"6px",mt:"50px"},className:"_auth__right"},n.createElement(y.A,{variant:"h4"},"Account Setup"),n.createElement(y.A,{sx:{marginBottom:"50px"}},"Few more details and your account will be ready to use."),n.createElement("form",{className:"",onSubmit:this.handleSubmit},n.createElement(h.A,{sx:{display:"flex",justifyItems:"center"}},n.createElement(h.A,{sx:{marginBottom:"15px",flex:"0.5",marginRight:"10px"}},n.createElement(g.A,{fullWidth:!0,label:"First name",variant:"outlined",onChange:this.handleChange,name:"first_name",value:s,className:w()(this.handlerInputError(t,"first_name"),"build__input")}),this.displayInputError(t,"first_name")),n.createElement(h.A,{sx:{marginBottom:"15px",flex:"0.5",marginLeft:"10px"}},n.createElement(g.A,{fullWidth:!0,label:"Last name",variant:"outlined",onChange:this.handleChange,name:"last_name",value:i,className:w()(this.handlerInputError(t,"last_name"),"build__input")}),this.displayInputError(t,"last_name"))),n.createElement(h.A,{sx:{marginBottom:"15px"}},n.createElement(g.A,{type:"password",fullWidth:!0,label:"Enter new Password",variant:"outlined",onChange:this.handleChange,name:"password",value:a,className:w()(this.handlerInputError(t,"password"),"build__input")}),this.displayInputError(t,"password")),n.createElement(h.A,{sx:{marginBottom:"15px"}},n.createElement(g.A,{type:"password",fullWidth:!0,label:"Confirm Password",variant:"outlined",onChange:this.handleChange,name:"password_confirmation",value:o,className:w()(this.handlerInputError(t,"password_confirmation"),"build__input")}),this.displayInputError(t,"password_confirmation"),""!=a?n.createElement(f.A,{password:a}):""),n.createElement(b.A,{type:"submit",size:"large",sx:{paddingRight:"40px",paddingLeft:"40px"},loading:r,loadingIndicator:"Processing...",variant:"contained"},"Finish Setup")))))}}])&&E(r.prototype,a),o&&E(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);const C=(0,u.Ng)((function(e){return{user:e.user.activeUser}}),{setUser:p.gV,clearUser:p.lM,setToken:p.WG,clearToken:p.L,setCompanies:p.II,setPWDRotation:p.sr,clearPWDRotation:p.fm,setMaturityLevels:p.$e,unsetSearchQuery:p.UQ,unsetSearchResults:p.mk})(j)},9064:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(76314),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,"",""]);const o=a}}]);