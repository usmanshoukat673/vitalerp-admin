"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9702],{79702:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var r=n(96540),o=n(85072),s=n.n(o),a=n(67274),i={insert:"head",singleton:!1};s()(a.A,i);a.A.locals;var c=n(11512),u=n(8321),p=n(75659),l=n(62383),f=n.n(l);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function b(t,e,n){return e=m(e),function(t,e){if(e&&("object"==d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t,e,n){return(e=w(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var S=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(t=b(this,e,[].concat(r)),"state",{errors:[],loading:!1,apps:[]}),g(t,"switchCompalance",(function(e){var n=t.props,r=n.company,o=n.selectStandard,s=n.history;n.token;o(e),t.setState({errors:[],openSwitchCompl:""}),c.A.post("/api/user/compliance/parent-sections",{standards:[e.standard_id]}).then((function(n){t.setState({errors:[]}),t.props.setParentSections(n.data.parent_sections),t.props.setCompanyUsers(n.data.users),s.push("/".concat(r.slug,"/compliance/").concat(e.standard.slug))})).catch((function(e){500===e.response.status&&t.setState({errors:[],loading:!1}),422===e.response.status&&t.setState({errors:t.state.errors.concat(e.response.data.errors),loading:!1})}))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){if(f()(this.props.user))this.props.history.push("/login");else if(f()(this.props.company))this.props.history.push("/select-organization");else{this.props.closeSubLeftNav();var t=this.props.standards;f()(t[0])||this.switchCompalance(t[0])}}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"render",value:function(){this.state.loading;var t=this.props.leftnav;return r.createElement("div",{className:t.open_sub?"sub__slide__menu_opened":""},r.createElement("div",{className:"page__header"},r.createElement("div",{className:"heading"},"Loading...")),r.createElement("div",{style:{margin:"15px 15px 55px 15px"}}))}}])&&y(n.prototype,o),s&&y(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,s}(r.Component);const _=(0,u.Ng)((function(t){return{standards:t.compliance.standards}}),{closeSubLeftNav:p.fK,selectControlFunction:p.af,selectCatalogSection:p.bU,selectStandard:p.YD,setParentSections:p.Xo,setCompanyUsers:p.sk})(S)},67274:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(76314),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,"",""]);const s=o}}]);