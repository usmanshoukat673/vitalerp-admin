"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4723],{4723:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(67294),r=a(31812),o=a(99226),s=a(23972),i=a(22715),l=a(9669),u=a.n(l),c=a(94379),m=a(80333),p=a(93967),f=a.n(p),d=a(14416),g=a(48408);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,s,i=[],l=!0,u=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=o.call(a)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const v=function(e){var t=e.history,a=e.match,l=h((0,n.useState)(""),2),p=l[0],y=l[1],v=h((0,n.useState)(""),2),w=v[0],x=v[1],b=h((0,n.useState)(""),2),E=b[0],_=b[1],S=h((0,n.useState)(""),2),Z=S[0],P=S[1],C=h((0,n.useState)(!1),2),N=C[0],O=C[1],A=h((0,n.useState)([]),2),j=A[0],k=A[1],I=(0,d.I0)();(0,n.useEffect)((function(){var e=a.params.email;x(e)}),[a]);var B=function(e){return j.some((function(t){return t.hasOwnProperty(e)}))?"error":""},W=function(e){return j.some((function(t){return t.hasOwnProperty(e)}))?n.createElement("p",{className:"form-error-messsage"},j[0][e]):""},z=function(e){j.length>0&&j[0].hasOwnProperty(e)&&(delete j[0][e],k(j))};return n.createElement(n.Fragment,null,n.createElement(m.Z,{signup:!0}),n.createElement(o.Z,{sx:{display:"flex",marginTop:"30px"}},n.createElement(o.Z,{sx:{flex:"0.5",marginRight:"50px",marginTop:"50px",fontSize:"19px"}}),n.createElement(o.Z,{sx:{flex:"0.5",padding:"20px",borderRadius:"6px",mt:"50px"},className:"_auth__right"},n.createElement(s.Z,{variant:"h4"},"Create Password"),n.createElement(s.Z,{sx:{marginBottom:"50px"}},"Please set your account password"),n.createElement("form",{className:"",onSubmit:function(e){e.preventDefault(),k([]),O(!0),u().post("/api/auth/setup-new-account",{email:w,company_name:p,password:E,password_confirmation:Z}).then((function(e){I((0,g.o4)(e.data.token)),I((0,g.av)(e.data.user)),I((0,g.Uv)(e.data.companies)),I((0,g.nL)(e.data.new_device)),I((0,g.Xq)(e.data.pwd_rotaion)),I((0,g.mM)(e.data.maturity_levels)),I((0,g.Nx)()),I((0,g.WO)()),t.push("/select-organization")})).catch((function(e){O(!1),500===e.response.status&&(k([]),c.fn.error("Server Error, Please contact customer support.","Error")),422===e.response.status&&k(j.concat(e.response.data.errors))}))}},n.createElement(o.Z,{sx:{marginBottom:"15px"}},n.createElement(i.Z,{fullWidth:!0,label:"Company Name",variant:"outlined",onChange:function(e){y(e.target.value),z(e.target.name)},name:"company_name",value:p,className:f()(B("company_name"),"build__input")}),W("company_name")),n.createElement(o.Z,{sx:{marginBottom:"15px"}},n.createElement(i.Z,{type:"password",fullWidth:!0,label:"Enter Password",variant:"outlined",onChange:function(e){_(e.target.value),z(e.target.name)},name:"password",value:E,className:f()(B("password"),"build__input")}),W("password")),n.createElement(o.Z,{sx:{marginBottom:"15px"}},n.createElement(i.Z,{type:"password",fullWidth:!0,label:"Confirm Password",variant:"outlined",onChange:function(e){P(e.target.value),z(e.target.name)},name:"password_confirmation",value:Z,className:f()(B("password_confirmation"),"build__input")})),n.createElement(r.Z,{type:"submit",size:"large",sx:{paddingRight:"40px",paddingLeft:"40px"},loading:N,loadingIndicator:"Processing...",variant:"contained"},"Save Password")))))}}}]);