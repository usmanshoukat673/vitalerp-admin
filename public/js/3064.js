"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3064],{92659:(e,t,r)=>{var n=r(24994);t.A=void 0;var a=n(r(42032)),o=r(74848);t.A=(0,a.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},40530:(e,t,r)=>{var n=r(24994);t.A=void 0;var a=n(r(42032)),o=r(74848);t.A=(0,a.default)((0,o.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile")},67034:(e,t,r)=>{var n=r(24994);t.A=void 0;var a=n(r(42032)),o=r(74848);t.A=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},90925:(e,t,r)=>{var n=r(24994);t.A=void 0;var a=n(r(42032)),o=r(74848);t.A=(0,a.default)((0,o.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"GppGood")},27365:(e,t,r)=>{r.d(t,{A:()=>E});var n=r(98587),a=r(58168),o=r(96540),l=r(54533),c=r(64111),s=r(76081),i=r(11848),u=r(20561),m=r(74848);const d=(0,u.A)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=r(33779),f=r(6025);const A=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],v=(0,s.h)("MuiAvatar"),h=(0,i.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,a.A)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:(0,a.A)({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]}))),g=(0,i.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,i.Ay)(d,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const E=o.forwardRef((function(e,t){const r=v({props:e,name:"MuiAvatar"}),{alt:s,children:i,className:u,component:d="div",slots:E={},slotProps:b={},imgProps:x,sizes:S,src:w,srcSet:k,variant:C="circular"}=r,I=(0,n.A)(r,A);let P=null;const j=function({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[a,l]=o.useState(!1);return o.useEffect((()=>{if(!r&&!n)return;l(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&l("loaded")},o.onerror=()=>{a&&l("error")},o.crossOrigin=e,o.referrerPolicy=t,o.src=r,n&&(o.srcset=n),()=>{a=!1}}),[e,t,r,n]),a}((0,a.A)({},x,{src:w,srcSet:k})),z=w||k,R=z&&"error"!==j,M=(0,a.A)({},r,{colorDefault:!R,component:d,variant:C}),D=(e=>{const{classes:t,variant:r,colorDefault:n}=e,a={root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,c.A)(a,p.k,t)})(M),[F,N]=(0,f.A)("img",{className:D.img,elementType:g,externalForwardedProps:{slots:E,slotProps:{img:(0,a.A)({},x,b.img)}},additionalProps:{alt:s,src:w,srcSet:k,sizes:S},ownerState:M});return P=R?(0,m.jsx)(F,(0,a.A)({},N)):i||0===i?i:z&&s?s[0]:(0,m.jsx)(y,{ownerState:M,className:D.fallback}),(0,m.jsx)(h,(0,a.A)({as:d,ownerState:M,className:(0,l.A)(D.root,u),ref:t},I,{children:P}))}))},33779:(e,t,r)=>{r.d(t,{A:()=>l,k:()=>o});var n=r(27553),a=r(17245);function o(e){return(0,a.Ay)("MuiAvatar",e)}const l=(0,n.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"])},51341:(e,t,r)=>{r.d(t,{A:()=>A});var n=r(98587),a=r(58168),o=r(96540),l=r(54533),c=r(64111),s=r(32850),i=r(11848),u=r(3541),m=r(75557),d=r(74848);const p=["className"],f=(0,i.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})((({ownerState:e})=>(0,a.A)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8}))),A=o.forwardRef((function(e,t){const r=(0,u.A)({props:e,name:"MuiListItemAvatar"}),{className:i}=r,A=(0,n.A)(r,p),v=o.useContext(s.A),h=(0,a.A)({},r,{alignItems:v.alignItems}),g=(e=>{const{alignItems:t,classes:r}=e,n={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,c.A)(n,m.Z,r)})(h);return(0,d.jsx)(f,(0,a.A)({className:(0,l.A)(g.root,i),ownerState:h,ref:t},A))}))},75557:(e,t,r)=>{r.d(t,{A:()=>l,Z:()=>o});var n=r(27553),a=r(17245);function o(e){return(0,a.Ay)("MuiListItemAvatar",e)}const l=(0,n.A)("MuiListItemAvatar",["root","alignItemsFlexStart"])},93937:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(96540),a=r(31139),o=r(90925);const l=function(){return n.createElement(a.A,{icon:n.createElement(o.A,{fontSize:"inherit"}),severity:"success"},"All communication is anonymous and encrypted. ")}},83064:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var n=r(96540),a=r(56347),o=r(51629),l=r(82007),c=r(71543),s=r(84719),i=r(1043),u=r(13945),m=r(17681),d=r(45359),p=r(46510),f=r(22079),A=r(1775),v=r(33113),h=r(11848),g=r(61561),y=(0,h.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function E(e){var t=e.onFileChange;return n.createElement(o.A,{component:"label",variant:"outlined",startIcon:n.createElement(g.A,null)},"Upload file",n.createElement(y,{multiple:!0,onChange:t,size:"20971520",type:"file",accept:".jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx, .txt"}))}var b=r(2543),x=r.n(b),S=r(27465),w=r(3959),k=r(51341),C=r(82241),I=r(27365),P=r(19455),j=r(53456),z=r(67034),R=r(40530),M=r(33551),D=(0,h.Ay)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper}}));const F=function(e){var t=e.attachments,r=e.remove;return n.createElement(j.Ay,{item:!0,xs:12,md:6},n.createElement(M.A,{sx:{mt:4,mb:2},variant:"h6",component:"div"},"Attachments:"),n.createElement(D,null,n.createElement(S.A,{dense:!0},_.map(t,(function(e,t){return n.createElement(w.Ay,{key:t,secondaryAction:n.createElement(P.A,{onClick:function(){return r(e)},edge:"end","aria-label":"delete"},n.createElement(z.A,null))},n.createElement(k.A,null,n.createElement(I.A,null,n.createElement(R.A,null))),n.createElement(C.A,{primary:"".concat(e.name)}))})))))};var N=r(68096),L=r(78717),H=r(94335),O=r(81429),V=r(29306),T=r(92659),B=r(93937);function W(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,l,c=[],s=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw a}}return c}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Z=function(e){var t=e.history,r=(0,a.useParams)(),h=q((0,n.useState)(!0),2),g=h[0],y=h[1],b=q((0,n.useState)({}),2),S=b[0],w=b[1],k=q((0,n.useState)([]),2),C=k[0],I=k[1],P=q((0,n.useState)(""),2),j=P[0],z=P[1],R=q((0,n.useState)(""),2),D=R[0],_=R[1],G=q((0,n.useState)([]),2),U=G[0],Z=G[1];(0,n.useEffect)((function(){H.A.get("/whistleblows/index",{headers:{"Custom-Whistle-Report-Link":r.id}}).then((function(e){w(e.data),y(!1)})).catch((function(e){500===e.response.status&&O.hm.error("Server Error, Please contact customer support.","Error"),404===e.response.status&&t.push("/404")}))}),[r]);var $=function(e){return C.some((function(t){return t.hasOwnProperty(e)}))?n.createElement("p",{className:"form-error-messsage"},C[0][e]):""},J=function(e){var t=W(C);t.length>0&&t[0].hasOwnProperty(e)&&(delete t[0][e],I(t))};return g?n.createElement(s.A,{sx:{display:"flex"}},n.createElement(L.A,null)):n.createElement("div",{className:"__whistle_container"},n.createElement("div",null,n.createElement(V.A,{component:"button",variant:"body2",underline:"none",onClick:function(){return t.push("/whistle/".concat(r.id))}},n.createElement(T.A,null),"  Back to Home Page")),n.createElement("h2",{style:{textAlign:"center"}},"New Report"),n.createElement(s.A,{component:"form",noValidate:!0,autoComplete:"off"},n.createElement(d.A,{fullWidth:!0},n.createElement(u.A,{id:"category"},"Category*"),n.createElement(p.A,{id:"category",name:"category",value:j,label:"Category*",onChange:function(e){z(e.target.value),J(e.target.name)}},n.createElement(m.A,{value:1},"Suspected Data Breach"),n.createElement(m.A,{value:2},"Bullying"),n.createElement(m.A,{value:3},"Sexual Harassment"),n.createElement(m.A,{value:4},"Discrimination"),n.createElement(m.A,{value:5},"Occupational Health and Safety"),n.createElement(m.A,{value:6},"Non-compliance with Company Policies"),n.createElement(m.A,{value:7},"Theft, Corruption or Embezzlement"),n.createElement(m.A,{value:8},"Environmental"),n.createElement(m.A,{value:9},"Damage to Property"),n.createElement(m.A,{value:10},"Physical Aggression"),n.createElement(m.A,{value:11},"Violation of Law"),n.createElement(m.A,{value:12},"Other")),$("category")),n.createElement(M.A,{sx:{mt:2,mb:2},variant:"h6",component:"div"},"Report Recipients:"),n.createElement(l.A,{direction:"row",spacing:1,sx:{mb:2}},x().map(S.recipients,(function(e,t){return n.createElement(N.A,{label:"".concat(e.name),key:t,color:"primary",variant:"outlined"})}))),n.createElement(d.A,{fullWidth:!0},n.createElement(i.A,{id:"more_information",name:"more_information",multiline:!0,rows:4,label:"Please describe the issue*",onChange:function(e){_(e.target.value),J(e.target.name)},value:D})),x().size(U)>0&&n.createElement(F,{attachments:U,remove:function(e){var t=W(U);x().remove(t,(function(t){return x().isEqual(e,t)})),Z(t)}}),$("attachments"),n.createElement("br",null),n.createElement("br",null),n.createElement("p",{style:{fontSize:"12px",color:"rgb(129 128 128)"}},"Allowed file types: [.jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx, .txt]"),n.createElement(d.A,null,n.createElement(E,{onFileChange:function(e){e.target.files.length>0&&(x().size(U)>0?x().map(e.target.files,(function(e){console.log(e),Z([].concat(W(U),[e]))})):Z(e.target.files))}})),n.createElement("br",null),n.createElement("br",null),n.createElement(f.A,null,n.createElement(A.A,{defaultChecked:!0,disabled:!0,control:n.createElement(v.A,{defaultChecked:!0}),label:"Send the report as anonymous"}))),n.createElement("br",null),n.createElement(l.A,{direction:"row",spacing:2},n.createElement(o.A,{onClick:function(){var e=new FormData;x().size(U)>0&&x().forEach(U,(function(t,r){e.append("attachment_".concat(r),t)})),e.append("category",j),e.append("more_information",D),H.A.post("/whistleblows/report/submit",e,{headers:{"Custom-Whistle-Report-Link":r.id}}).then((function(e){I([]),t.push("/whistle/s/".concat(r.id,"/").concat(e.data.id))})).catch((function(e){422===e.response.status&&I([e.response.data.errors]),500===e.response.status&&O.hm.error("Server Error, Please contact customer support.","Error"),404===e.response.status&&t.push("/404")}))},variant:"contained"},"Submit Report")),n.createElement("br",null),n.createElement("br",null),n.createElement(c.A,{sx:{margin:"20px 0px"}}),n.createElement(B.A,null))}}}]);