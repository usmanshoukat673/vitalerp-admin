"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[638],{50638:(t,e,r)=>{r.r(e),r.d(e,{default:()=>O});var n=r(96540),o=r(8321),a=(r(2543),r(75659)),i=r(86177),s=r(84719),u=r(33551),c=r(1043),p=r(46942),l=r.n(p),f=r(67438),d=r(11512);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function y(t,e,r){return e=b(e),function(t,e){if(e&&("object"==m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,r||[],b(t).constructor):e.apply(t,r))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function v(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}var x=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return v(t=y(this,e,[].concat(o)),"state",{password:"",password_confirmation:"",errors:[],loading:!1}),v(t,"handleChange",(function(e){t.setState(v({},e.target.name,e.target.value));var r=t.state.errors;r.length>0&&r[0].hasOwnProperty(e.target.name)&&(delete r[0][e.target.name],t.setState({errors:r}))})),v(t,"handlerInputError",(function(t,e){return t.some((function(t){return t.hasOwnProperty(e)}))?"error":""})),v(t,"displayInputError",(function(t,e){return t.some((function(t){return t.hasOwnProperty(e)}))?n.createElement("p",{className:"form-error-messsage"},t[0][e]):""})),v(t,"handleSubmit",(function(e){e.preventDefault(),t.setState({errors:[],loading:!0}),d.A.post("/api/user/change-current-password",t.state).then((function(e){t.setState({password:"",password_confirmation:"",errors:[],loading:!1}),t.props.setUser(e.data.user),t.props.setPWDRotation(e.data.pwd_rotaion),t.props.history.push("/select-organization")})).catch((function(e){500===e.response.status&&t.setState({errors:[],loading:!1}),422===e.response.status&&t.setState({errors:t.state.errors.concat(e.response.data.errors),loading:!1})}))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){this.props.setCreateNewOrg({open:!1,in_org:!1})}},{key:"render",value:function(){var t=this.props.rotation,e=this.state,r=e.errors,o=e.loading,a=e.password,p=e.password_confirmation;return n.createElement(n.Fragment,null,n.createElement(s.A,{sx:{display:"flex",marginTop:"30px"}},n.createElement(s.A,{sx:{flex:"0.5",marginRight:"50px",marginTop:"50px",fontSize:"19px"}}),n.createElement(s.A,{sx:{flex:"0.5",padding:"20px",borderRadius:"6px",mt:"50px"}},n.createElement(u.A,{variant:"h4",sx:{color:"#fff"}},"Your Password is Expired"),n.createElement(u.A,{sx:{marginBottom:"50px",color:"#fff"}},"Your password is already ",t.days," days old, it is time change your password."),n.createElement("form",{className:"",onSubmit:this.handleSubmit},n.createElement(s.A,{sx:{marginBottom:"15px",width:"55%"}},n.createElement(c.A,{type:"password",fullWidth:!0,label:"New Password",variant:"outlined",onChange:this.handleChange,name:"password",value:a,className:l()(this.handlerInputError(r,"password"),"build__input")}),this.displayInputError(r,"password"),""!=a?n.createElement(i.A,{password:a}):""),n.createElement(s.A,{sx:{marginBottom:"15px",width:"55%"}},n.createElement(c.A,{type:"password",fullWidth:!0,label:"Confirm Password",variant:"outlined",onChange:this.handleChange,name:"password_confirmation",value:p,className:l()(this.handlerInputError(r,"password_confirmation"),"build__input")}),this.displayInputError(r,"password_confirmation")),n.createElement(f.A,{type:"submit",size:"large",sx:{paddingRight:"40px",paddingLeft:"40px"},loading:o,loadingIndicator:"Changing...",variant:"contained"},"Change Password")))))}}])&&h(r.prototype,o),a&&h(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(n.Component);const O=(0,o.Ng)((function(t){return{rotation:t.password.rotation}}),{setUser:a.gV,setPWDRotation:a.sr,setCreateNewOrg:a.vm})(x)}}]);