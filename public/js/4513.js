"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4513],{84513:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(96540),a=r(40916),i=r(56347),o=r(84719),l=r(1043),c=r(67438),u=r(8321),s=r(11512),f=r(33551),p=r(22492),d=r(75659);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const h=function(e){e.user,e.token;var t=e.location,r=(0,i.useHistory)(),g=m((0,n.useState)(!1),2),h=g[0],y=g[1],x=m((0,n.useState)([]),2),A=(x[0],x[1],m((0,n.useState)(""),2)),v=A[0],b=A[1],E=m((0,n.useState)(""),2),S=E[0],w=E[1],C=m((0,n.useState)(""),2),I=C[0],k=C[1],V=(0,u.wA)(),R=function(e){V((0,d.gV)(e.user)),V((0,d.II)(e.companies)),V((0,d.$e)(e.maturity_levels)),V((0,d.hP)(e.supplier)),V((0,d.sr)(e.pwd_rotaion))};return n.createElement("div",{className:""},n.createElement(n.Fragment,null,n.createElement(p.A,{signup:!1})),n.createElement(o.A,{sx:{display:"flex",marginTop:"30px"}},n.createElement(o.A,{sx:{flex:"0.5",marginRight:"50px",marginTop:"50px",fontSize:"19px"}}),n.createElement(o.A,{sx:{flex:"0.5",padding:"20px",borderRadius:"6px",mt:"50px"}},n.createElement(f.A,{variant:"h4",sx:{color:"#fff"}},"Multi-Factor Authentication"),n.createElement(f.A,{sx:{marginBottom:"50px",color:"#fff"}},"Verify Your Authentication Code"),n.createElement("p",{style:{width:"50%",color:"#fff"}},"Please enter the 6-digit code generated by your authenticator app (Google Authenticator or Microsoft Authenticator) to complete the login process. This code changes every 30 seconds. If you encounter any issues, please ensure your device's time settings are correct and try again."),n.createElement(o.A,{sx:{marginBottom:"15px",width:"45%"}},n.createElement(l.A,{fullWidth:!0,label:"Verification Code",variant:"outlined",onChange:function(e){b(e.target.value)},name:"otp",value:v})),S&&n.createElement(a.A,{negative:!0},S),I&&n.createElement(a.A,{positive:!0},I),n.createElement(o.A,{sx:{display:"flex"}},n.createElement(c.A,{onClick:function(){y(!0),s.A.post("/api/auth/2fa/verify",{otp:v}).then((function(e){k("2FA configured successfully."),w("");var n=new URLSearchParams(t.search).get("redirect");R(e.data),n?r.push(n):r.push(e.data.redirect)})).catch((function(e){k(""),w("Verification failed. Please try again.")})).finally((function(){return y(!1)}))},type:"button",size:"large",sx:{paddingRight:"40px",paddingLeft:"40px",marginRight:"20px"},loading:h,loadingIndicator:"Verifing...",variant:"contained"},"Verify")))))}}}]);